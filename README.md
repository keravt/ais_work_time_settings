# template
Шаблон для приложения

### Внедрение шаблона в приложение 

#### 1. Склонировать шаблон в отдельную папку 

#### 2. Удалить папку .git из папки template

#### 3. Перенести содержимое папки template в приложение

#### 4. Переименовать папки согласно конвенции

#### 5. В docker-compose.yml  Меняем env переменные для подключения к БД

#### 6. В docker-compose.yml меняем порт микросервиса (back) на незанятый (проверяем по реестру приложений) и имя папки 

#### 7. Такие же операции для front 


### Внесение изменений на бэкенде

#### 1. В файле .development.env меняем конфигурацию, исходя из своих данных


### Внесение изменений на фронтенде

#### 1. Поменять содержимое файлов package.json и webpack.config.js заменив название на свое

#### 2. В Dockerfile поменять название /usr/src/app/dist/frontend_name на свое

#### 3. Поменять в папках environment.ts и environment.prod.ts порты в mainURL









### Взаимодействие с сервисом авторизации
#### 1. Именование методов 
   Именование методов в классе контроллера должно иметь следующий вид:
   methodName_resourceName_metaData, то есть, например:
   get_shell_menu или post_businesTripRequest_new
   это нужно для ограничения к чтению и к записи в базу данных, исходя из разрешений сервиса авторизации
#### 2. Декоратор
    Чтобы чтобы подключить сервис авторизации, нужно навесить на метод контроллера декоратор AuthDecorator, в котором реализован
    функционал запросов к сервису авторизцаии для получения разрешений на данный ресурс для данного пользователя.
    Для того, чтобы находить пользователя, нужно в каждом метода добавлять первым аргумент с декоратором 
    **@AuthenticadetUser()**, который поставляется кейклоком и содержит информацию о пользователе; в объект с этим декоратором в последствии и будет 
    добавляться массив разрешений.
#### 3. Обработка разрешений
    Обрабатываются приходящие разрешения на каждом сервисе по своему, поэтому нужно писать собственный обработчик

